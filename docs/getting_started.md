---
title: Getting Started
nav_order: 2
---

# Getting Started
{: .no_toc }

## Table of contents
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## Creating a Script

As an introduction to PSRIO, we will show you how to create PSRIO recipes from scratch using the output data from example cases inside the installation folder of SDDP.

#### Example 1

The first example is about demand marginal cost. We wish to get a mean demand marginal cost from the information in the file `cmgdem.csv`.

``` lua
system = require("collection/system");
cmgdem = system:load("cmgdem");
cmgdem_avg = cmgdem:aggregate_blocks(BY_AVERAGE()):aggregate_scenarios(BY_AVERAGE());
cmgdem_avg:save("cmgdem_avg");
```

#### Example 2

For the second example, case example 20 will be used. The case consists, basically, of one system containing 3 thermal plants supplying energy to consumers. The study horizon is formed by 12 stages and the execution is deterministic.

Suppose we want to extract the total amount of energy generated by the plants based on the information received from SDDP about the generations in each stage of each plant, which can be found in the file `gerter.csv`. We will begin loading the thermal collections with the following commad:

``` lua 
thermal_plants =  Thermal()
```

Now, we have access to the attributes of each thermal plant in the system. As our interest lies in the generation, we will load the generation data with the command:

``` lua 
thermal_gen=thermal_plants:load("gerter")
```

Notice that we managed to load the generation data by informing the file name identification of the data. Now, we are able to make operations with the generation data. We want to sum values of each plant regarding one stage, so that there is only one value per stage that represents the total generation of the system. For that, we do the following:

``` lua 
total_thermal_gen = thermal_gen:aggregate_agents(BY_SUM(), "Total thermal")

total_thermal_gen:save("TotalThermalGen", {csv=true})
```

The first instruction tells PSRIO to aggregate agents, summing their respective generation for each stage. In the second, we are saving the data stored in the variable total_thermal to the file `TotalThermalGen.csv`.
 We can also make some plots. First, letâ€™s define a object for the chart

``` lua 
my_chart = Chart()
```

Now, we indicate to the chart object that we want to plot the data contained in the file `TotalThermalGen.csv`, which we have just created.

``` lua 
my_chart:push("TotalThermalGen", "line")
```

After that, we will define a dashboard object to hold chart objects information and then add the charts and save to the file `ThermalReport.html`.

``` lua 
my_dash = Dashboard()
my_dash:push(my_chart)
my_dash:save("ThermalReport")
```

In short, the recipe for this work is as follows:

``` lua 
--Load thermal collections and thermal generation data
thermal_plants =  Thermal()
thermal_gen=thermal_plants:load("gerter")

--Aggregate agents generations by sum and save to output file
total_thermal_gen = thermal_gen:aggregate_agents(BY_SUM(), "Total thermal")
total_thermal_gen:save("TotalThermalGen", {csv=true})

--Create chart object
my_chart = Chart()

--Add total generation info
my_chart:push("TotalThermalGen", "line")

--Create dashboad object
my_dash = Dashboard()

--Add chart and save to html file
my_dash:push(my_chart)
my_dash:save("ThermalReport")
```

## Running a script

### Graph 4.0

### SDDP

### Command Line


